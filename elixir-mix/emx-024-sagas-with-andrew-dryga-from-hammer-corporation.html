---
layout: layouts/post.njk
title: >
      EMx 024: “Sagas” with Andrew Dryga from Hammer Corporation
date: 2018-10-23 10:00:52
episode_number: 024
duration: 54:00
audio_url: https://media.devchat.tv/elixir-mix/EMx_024_Sagas_with_Andrew_Dryga_from_Hammer_Corp.mp3
tags: elixir-mix
---

<p class="p1"><span class="s1"><b>Panel: </b></span></p>

<ul>
 	<li class="p1"><span class="s2">Mark Ericksen</span></li>
 	<li class="p1"><span class="s2">Eric Berry</span></li>
 	<li class="p1"><span class="s2">Josh Adams </span></li>
 	<li class="p1"><span class="s2">Nathan Hopkins </span></li>
</ul>
<p class="p1"><span class="s1"><b>Special Guest:</b></span><span class="s2"> <a href="http://www.dryga.com"><span class="s3">Andrew Dryga </span></a></span></p>
<p class="p3"><span class="s2">In this episode of Elixir Mix, the panel talks with <a href="https://medium.com/@andrew_dryga"><span class="s4">Andrew Dryga</span></a> who is a software engineer (full-stack), entrepreneur, blockchain architect, and consultant. He currently works for Hammer and previous employers include Contractbook, Nebo #15, BEST Money Transfers among others. He studied at the National Technical University of Ukraine. Check out today’s episode where the panel and guest talk about Sagas and Sage. </span></p>
<p class="p4"><span class="s1"><b>Show Topics:</b></span></p>
<p class="p4"><span class="s2">1:52 – Our guest today is <a href="https://medium.com/@andrew_dryga"><span class="s3">Andrew Dryga</span></a>. Why are you into Elixir? </span></p>
<p class="p4"><span class="s2">2:04 – Andrew: I have worked in Elixir for a few years. I worked on one of the biggest opensource projects for a while now. </span></p>
<p class="p4"><span class="s2">2:42 – Let’s talk about Sage!</span></p>
<p class="p4"><span class="s2">2:49 – <a href="https://twitter.com/andrew_dryga"><span class="s3">Andrew:</span></a> I felt like I was doing the same thing over, and over again. </span></p>
<p class="p4"><span class="s2"><i>Andrew talks about how he was on a mission to solve a problem that he was having. </i></span></p>
<p class="p4"><span class="s2">3:48 – Panelist: I have run into this problem before, and I am looking forward </span></p>
<p class="p4"><span class="s2">We have distribution systems and anything that is external for us (Stripe), and one of the solutions was to create a multi. Let’s create a user, register theses different pieces, and then...</span></p>
<p class="p4"><span class="s2">Then we realized that this request was taking too long. Our transaction is timing out. The other connection went to the other server. We had database records removed from the other side. People aren’t aware that they have these distribution problems. I think Stripe is a good example of that. I started with my multi...</span></p>
<p class="p4"><span class="s2">5:24 – Andrew: I am trying to be very programmatic. </span></p>
<p class="p4"><span class="s2">I don’t want to do that, so write now the project is multi. It’s doable if you know what you are doing. If you are dealing with just one it’s simple. But if you can monitor them (Sage Read Me)...</span></p>
<p class="p4"><span class="s2">56:16 – Let’s talk about Sagas!</span></p>
<p class="p4"><span class="s2">6:19 – Andrew talks about what Sagas are. </span></p>
<p class="p4"><span class="s2">8:20 – You are right it is a new mental model. That’s why I love the Sage library because it is simple. It gives structure to that mental model. The idea that I will take step one and create a user, step two another entry, step three now an external entry. It can fail for any reason. Then these compensating functions are saying: what is the undo for this? It could be just delete this specific entry. But do I have that right?</span></p>
<p class="p4"><span class="s2">9:53 – Andrew gives his comments on those comments.</span></p>
<p class="p4"><span class="s2">10:26 – Andrew continues his ideas. </span></p>
<p class="p4"><span class="s2">11:09 – When you start with a new team, you don’t bring Sage right off the back? What is your strategy to figure out that pain?</span></p>
<p class="p4"><span class="s2">11:32 – Andrew: I don’t have a plan – how do I feel about THAT coder. After about 2 services and 1 call it’s time to use Sage or it will be too complex. Integration is the case. So if you try to integrate substitution then...</span></p>
<p class="p4"><span class="s2">12:29 – Question to Andrew.</span></p>
<p class="p4"><span class="s2">12:35 – Andrew: Figure it out by judgment and it varies by situation. I enjoy working with them but I’m not like them. I use my best judgment. </span></p>
<p class="p4"><span class="s2">12:59 – You talked at Code Beam and talked about Sagas and Sage. I think that’s a good resource to defend you case. To talk about the sequence of events, something goes wrong, and then rollback the changes. What feedback have you received? </span></p>
<p class="p4"><span class="s2">13:46 – Andrew: Yes, good feedback. There some people will say that there are problems, but I know there are companies that are actively using it. People say that it simplifies their projects. I think the presentation slides can definitely help. </span></p>
<p class="p4"><span class="s2">14:39 – Yes, check out the show notes links. </span></p>
<p class="p4"><span class="s2">14:45 – Are you a consultant or are you fulltime?</span></p>
<p class="p4"><span class="s2">14:53 – Andrew: I used to be fulltime and do large projects for companies. </span></p>
<p class="p4"><span class="s2"><i>Andrew talks about those projects in detail. </i></span></p>
<p class="p4"><span class="s2">Andrew: Those projects we used Elixir (see above). </span></p>
<p class="p4"><span class="s2">I do a lot of opensource, too. Last time I check it was...</span></p>
<p class="p4"><span class="s2">16:04 – That’s a good number.</span></p>
<p class="p4"><span class="s2">16:08 – Andrew: I am trying to participate in conversations, but if I had more times I would work more in Sage and opensource; to have a persistent nature behind Sage. I think it can be done a much better way. </span></p>
<p class="p4"><span class="s2">16:55 – How do you envision doing that? Configuring it to a repo or something else?</span></p>
<p class="p4"><span class="s2">17:07 – Andrew: I want to solve the problem of...</span></p>
<p class="p4"><span class="s2">17:56 – That’s cool.</span></p>
<p class="p4"><span class="s2">18:03 – Andrew: Yeah, everything I find a new application built in.</span></p>
<p class="p4"><span class="s2">18:17 – Andrew and panelist go back-and-forth. </span></p>
<p class="p4"><span class="s2">18:32 – Andrew continues talking about Sage and models.</span></p>
<p class="p4"><span class="s2">18:43 – Proxy channel – I think I want to do a Mud. Anyway...</span></p>
<p class="p4"><span class="s2">18:59 – Question.</span></p>
<p class="p4"><span class="s2">19:11 – There is a WX library that is built into Erlang which was talked about at the conference. That one looked interesting. How they built the debugger and the widgets. It looked that there was more there than I thought. </span></p>
<p class="p4"><span class="s2">19:47 – Great to have out of the box. </span></p>
<p class="p4"><span class="s2">19:56 – <a href="https://medium.com/@andrew_dryga"><span class="s3">Andrew</span></a> comments. </span></p>
<p class="p4"><span class="s2">Andrew: I saw the talk from Canada and...</span></p>
<p class="p4"><span class="s2">20:08 – It’s early to work with. Someone tweeted about it and now I’m rambling.<span class="Apple-converted-space">   </span></span></p>
<p class="p4"><span class="s2">20:08 – Andrew: Someone made the keyboard while on the plane. </span></p>
<p class="p4"><span class="s2">21:04 – I hope we are going that route eventually.</span></p>
<p class="p4"><span class="s2">21:12 – Panel and Andrew go back-and-forth.</span></p>
<p class="p4"><span class="s2">21:39 – What other applications have you found that Saga would work for? </span></p>
<p class="p4"><span class="s2">21:50 – Stripe. </span></p>
<p class="p4"><span class="s2">21:56 – Panelist: When I make an authorization request, capture the funds. Even when I am dealing with one of their services there are multi-interactions. </span></p>
<p class="p4"><span class="s2">22:03 – <a href="https://github.com/AndrewDryga"><span class="s3">Andrew</span></a> comments. </span></p>
<p class="p4"><span class="s2">23:32 – I have an app that I would prefer using Saga because of the...</span></p>
<p class="p4"><span class="s2">23:44 – Loot Crate! Check out their deal!</span></p>
<p class="p4"><span class="s2">24:37 – Andrew talks about the core team, Elixir and Sage. </span></p>
<p class="p4"><span class="s2">26:03 – Panelist: To solve a problem with SAGA let’s talk about the pros and cons. I had an umbrella application and one of the applications was supposed to be the interface to that service. It could be like a payment service and other payment gateways. I am going to make my request to this app, and it’s going to track the app. The main thing continues and talks to the bank and/or Stripe. Depending on the problems but you still have THAT problem because maybe the account wasn’t set up properly. Now we’ve talked to the bank, medium intervention, and let’s run this. I like SAGE and SAGAS because I don’t’ have to go to that level to break out the proxies. I just need to talk with the sales force or something. I need a reliable system when it can recover when something goes wrong. It might be over engineered but I don’t know.</span></p>
<p class="p4"><span class="s2">28:17 – Andrew comments about that particular example (see above). </span></p>
<p class="p4"><span class="s2">29:03 – With Sagas you can loose them...</span></p>
<p class="p4"><span class="s2">29:09 – I haven’t played with Rabbit, yet. The one that is built into AWS? There’s Simple Q and there is something else. Rabbit is built with Erlang. What’s that like for you? </span></p>
<p class="p4"><span class="s2">29:40 – Andrew: It’s pretty painful. </span></p>
<p class="p4"><span class="s2"><i>Andrew mentions MPP. </i></span></p>
<p class="p4"><span class="s2">30:37 – Interesting; I haven’t gotten that far, yet. </span></p>
<p class="p4"><span class="s2">30:45 – My first Elixir application had...behind it. That was the worst part. I feel those pains.</span></p>
<p class="p4"><span class="s2">31:00 – Andrew: That’s the case. </span></p>
<p class="p4"><span class="s2">31:51 – The other service I was thinking of was...</span></p>
<p class="p4"><span class="s2">31:56 – Question for Andrew. </span></p>
<p class="p4"><span class="s2">31:59 – Andrew answers. </span></p>
<p class="p4"><span class="s2">32:39 – That is the problem we are having at work because of older code. How can we resend them out? That probably will be a good fit for us.</span></p>
<p class="p4"><span class="s2">33:18 – Andrew. </span></p>
<p class="p4"><span class="s2">34:31 – Andrew: Once you’ve found the bug...</span></p>
<p class="p4"><span class="s2">35:16 – When you are coming to a new language, it could be React or...the first few things will be pretty awful. What has this path been like for you, Nathan?</span></p>
<p class="p4"><span class="s2">35:40 – Nathan: Yeah I am very early days. Yesterday, I had a set of code that I was creating to try just to function and it was really ugly. But I was okay with that because I was just trying to solve the issue. </span></p>
<p class="p4"><span class="s2">36:05 – You have to be okay with that. The idea that: You are trying to just make it work. When you come to Elixir and being fresh and thinking I don’t even know what to do. </span></p>
<p class="p4"><span class="s2">36:32 – I have a buddy with that now saying: How do I even start with this?!</span></p>
<p class="p4"><span class="s2">36:40 – Andrew: It takes time to break your head and a different way to rethink the code. </span></p>
<p class="p4"><span class="s2">Once I have the basic concepts then it makes me feel super efficient. </span></p>
<p class="p4"><span class="s2">37:24 – I am curious what languages have you had experience with?</span></p>
<p class="p4"><span class="s2">37:38 – Andrew: I started commercial projects in my teenage years. I built websites for them. </span></p>
<p class="p4"><span class="s2">I have some JavaScript knowledge and that was good going to Elixir. </span></p>
<p class="p4"><span class="s2">39:04 – I favor that side, too. It’s not hard to build solutions with the things that are in the box (Erlang). I don’t like to bring in all of these libraries that people are creating. It’s great but, at the same time, I have been burned by Rails and JavaScript where you bring in all of these different libraries, and it becomes really nasty. I could have solved it more natively.</span></p>
<p class="p4"><span class="s2">39:55 – Andrew: In Elixir you can...</span></p>
<p class="p4"><span class="s2">40:28 – Oh, that’s all I needed – those 2 lines.</span></p>
<p class="p4"><span class="s2">40:40 – Andrew.</span></p>
<p class="p4"><span class="s2">40:46 – That’s an interesting dynamic. </span></p>
<p class="p4"><span class="s2">41:09 – Andrew comments talks about Elixir and Hex.</span></p>
<p class="p4"><span class="s2">41:23 – Andrew: I think it’s a good thing. I think there needs to be work in Hex because it’s underdeveloped. To name a few...</span></p>
<p class="p4"><span class="s2">43:08 – Part of the keynote this year that it won’t be merged, or they aren’t promising to merge it.</span></p>
<p class="p4"><span class="s2">43:29 – Andrew. </span></p>
<p class="p4"><span class="s2">44:08 – I haven’t used 3, yet.</span></p>
<p class="p4"><span class="s2">44:10 – Andrew. </span></p>
<p class="p4"><span class="s2">44:55 – They are talking about the Read Me. I didn’t know there was an <a href="https://github.com/Nebo15/ecto_mnesia"><span class="s3">Ecto Mnesia?</span></a></span></p>
<p class="p4"><span class="s2">45:20 – Andrew: Yeah I helped build it and the plan was...</span></p>
<p class="p4"><span class="s2">45:50 – Yeah I can see the issue there, do I maintain it or...?</span></p>
<p class="p4"><span class="s2">46:02 – Andrew comments and talks about the community and different codes. </span></p>
<p class="p4"><span class="s2">46:36 – Andrew, anything else that you want to talk about?</span></p>
<p class="p4"><span class="s2">46:48 – There are tons of notes in our chat, which the listeners can’t see. </span></p>
<p class="p6"><span class="s5">46:58 – Advertisement – <a href="https://www.freshbooks.com/?ref=ppc-na-fb&amp;camp=US%2528SEM%2529Branded%257CEXM&amp;ag=r%252F+%257Efreshbooks&amp;kw=freshbooks&amp;campaignid=717543354&amp;adgroupid=51893696557&amp;kwid=kwd-298507762065&amp;dv=c&amp;ntwk=g&amp;crid=284685866057&amp;source=GOOGLE&amp;gclid=EAIaIQobChMI7u77x52H3gIVkLfACh0pQgTEEAAYASAAEgJ_-PD_BwE&amp;gclsrc=aw.ds&amp;dclid=CP7VqMmdh94CFcW-wAodpeoN9Q"><span class="s3">Fresh Books’ Advertisement! 30-Day Trial!</span></a></span></p>
<p class="p4"><span class="s1"><b>Links:</b></span></p>

<ul class="ul1">
 	<li class="li6"><span class="s6"><a href="https://www.ruby-lang.org/en/"><span class="s7">Ruby</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://elixir-lang.org"><span class="s7">Elixir</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://www.javascript.com"><span class="s7">JavaScript</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://reactjs.org"><span class="s7">React</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="http://erlang.org/doc/man/disk_log.html"><span class="s7">Erlang – Disk Log</span></a></span></li>
 	<li class="li6"><span class="s1">Erlang WX</span></li>
 	<li class="li6"><span class="s6"><a href="https://fsharpforfunandprofit.com/posts/recipe-part2/"><span class="s7">Railway Oriented Programming</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="http://nebo15.com"><span class="s7">Nebo 15</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://github.com/boydm/scenic"><span class="s7">GitHub – Scenic</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://kafka.apache.org"><span class="s7">Kafka</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://www.rabbitmq.com"><span class="s7">Rabbit MQ</span></a></span></li>
 	<li class="li8"><span class="s8"><a href="https://aws.amazon.com/sqs/"><span class="s7">AWS</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://aws.amazon.com/kinesis/"><span class="s7">AWS – Kinesis</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://github.com/phoenixframework/firenest"><span class="s7">GitHub – Firenest</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://github.com/ericmj/xhttp/tree/master/lib/xhttp"><span class="s7">XHTTP</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://github.com/elixir-ecto/ecto"><span class="s7">GitHub – Ecto</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://github.com/Nebo15/ecto_mnesia"><span class="s7">GitHub – Ecto Mnesia</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://medium.com/@andrew_dryga/you-can-compose-the-saga-69f209bc6194"><span class="s7">Saga and Medium</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://medium.com/nebo-15/introducing-sage-a-sagas-pattern-implementation-in-elixir-3ad499f236f6"><span class="s7">Introducing Sage</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="http://www.dryga.com"><span class="s7">Andrew Dryga’s Website</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://medium.com/@andrew_dryga"><span class="s7">Andrew Dryga’s Medium</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://github.com/AndrewDryga"><span class="s7">Andrew Dryga’s GitHub</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://ua.linkedin.com/in/andrew-dryga-bb382557"><span class="s7">Andrew Dryga’s LinkedIn</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://twitter.com/andrew_dryga"><span class="s7">Andrew Dryga’s Twitter</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://www.facebook.com/andrew.dryga"><span class="s7">Andrew Dryga’s FB</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://www.youtube.com/channel/UCIpDrdCfu9LscfqmVSUy43g"><span class="s7">Andrew’s YouTube Channel</span></a></span></li>
 	<li class="li6"><span class="s6"><a href="https://www.youtube.com/watch?v=excmcS6Id2E"><span class="s7">Andrew’s Sagas of Elixir Video</span></a></span></li>
</ul>
<p class="p4"><span class="s1"><b>Sponsors:</b></span></p>

<ul class="ul1">
 	<li class="li6"><span class="s9"><a href="https://www.lootcrate.com"><span class="s10">Loot Crate</span></a></span></li>
 	<li class="li9"><span class="s11"><a href="https://www.freshbooks.com"><span class="s12">Fresh Books</span></a></span></li>
 	<li class="li9"><span class="s13"><a href="https://www.cachefly.com"><span class="s12">Cache Fly</span></a></span></li>
</ul>
<p class="p11"><span class="s1"><b>Picks:</b></span></p>
<p class="p12"><span class="s2">Mark </span></p>

<ul class="ul1">
 	<li class="li12"><span class="s14"><a href="https://store.steampowered.com/agecheck/app/214560/"><span class="s15">Mark of the Ninja </span></a></span></li>
</ul>
<p class="p12"><span class="s2">Josh</span></p>

<ul class="ul1">
 	<li class="li12"><span class="s14"><a href="http://blog.plataformatec.com.br/2018/10/a-sneak-peek-at-ecto-3-0-breaking-changes/"><span class="s15">A Sneak Peek at Ecto 3.0: Breaking Changes </span></a></span></li>
</ul>
<p class="p12"><span class="s2">Nate </span></p>

<ul class="ul1">
 	<li class="li12"><span class="s14"><a href="https://pragmaticstudio.com/courses/elixir"><span class="s15">Pragmatic Studio </span></a></span></li>
</ul>
<p class="p12"><span class="s2">Eric </span></p>

<ul class="ul1">
 	<li class="li12"><span class="s2">Looking of Elixir Developers </span></li>
 	<li class="li12"><span class="s2">Metabase.com</span></li>
 	<li class="li12"><span class="s14"><a href="https://polymail.io/"><span class="s15">Polymail</span></a></span></li>
</ul>
<p class="p14"><span class="s2">Andrew</span></p>

<ul class="ul1">
 	<li class="li14"><span class="s14"><a href="https://wondery.com/shows/tides-of-history/"><span class="s16">Tide of History</span></a></span></li>
</ul>

<h3>Transcript</h3>


