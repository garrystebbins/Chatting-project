---
layout: layouts/post.njk
title: >
      RR 379: "Caching in Rails" with Jeff Kreeftmeijer
date: 2018-09-11 10:00:24
episode_number: 379
duration: 53:49
audio_url: https://media.devchat.tv/ruby-rogues/RR_379_Caching_in_Rails_with_Jeff_Kreeftmeijer.mp3
tags: 
  - ruby-rogues
  - podcast
---

<p class="p1"><span class="s1"><b>Panel: </b></span></p>

<ul class="ul1">
 	<li class="li1"><span class="s3">Charles Max Wood</span></li>
 	<li class="li1"><span class="s3">Dave Kimura</span></li>
 	<li class="li1"><span class="s3">Eric Berry</span></li>
</ul>
<p class="p1"><span class="s1"><b>Special Guests:</b></span><span class="s3"> <a href="https://jeffkreeftmeijer.com"><span class="s4">Jeff Kreeftmeijer</span></a> </span></p>
<p class="p1"><span class="s3">In this episode of Ruby Rogues, the panel talks to <a href="https://jeffkreeftmeijer.com"><span class="s4">Jeff Kreeftmeijer</span></a> who is a Ruby and Elixir developer at <a href="https://appsignal.com"><span class="s4">AppSignal</span></a>. Jeff writes for the <a href="https://appsignal.com"><span class="s4">AppSignal's</span></a> newsletter and has a blog. Check out today’s episode where the panel talks about AppSignal, Russian doll caching, Drifting Ruby, JavaScript Sprinkles, cache warming, N+1 plus other topics. </span></p>
<p class="p1"><span class="s1"><b>Show Topics:</b></span></p>
<p class="p1"><span class="s3">2:47 – Code Fund &amp; <a href="https://newrelic.com/?utm_campaign=googlebrand+JM+ABM+Q1FY19+acq+NORAM&amp;utm_source=Google&amp;utm_medium=PS&amp;gclid=EAIaIQobChMIpbDg_MSz3QIVAhtpCh2qpgebEAAYASAAEgJnivD_BwE"><span class="s4">New Relic.</span></a> </span></p>
<p class="p1"><span class="s3">3:40 – <a href="https://appsignal.com"><span class="s4">AppSignal</span></a> might be the only support for <a href="https://elixir-lang.org"><span class="s4">Elixir</span></a>. </span></p>
<p class="p1"><span class="s3">4:12 – The integration, the ease was so simple and your (Jeff) documentation made it very easy. </span></p>
<p class="p1"><span class="s3">4:46 – Comparatively to New Relic, <a href="https://appsignal.com"><span class="s4">AppSignal</span></a> is cheaper, isn’t it?</span></p>
<p class="p1"><span class="s3">4:59 – We don’t charge for host, we charge per request. That’s where to difference in price comes from. You get a number of requests in your plan. <a href="https://appsignal.com"><span class="s4">AppSignal</span></a> – you pay for what you use.</span></p>
<p class="p1"><span class="s3">5:50 – Chuck has used New Relic in the past, but only pay for the month that he needs.</span></p>
<p class="p1"><span class="s3">6:07 – Panelist talks with Josh Adams and relays the conversation to the panel and the guest.</span></p>
<p class="p1"><span class="s3">6:48 – Eric to Dave: Do you run into this with <a href="https://www.driftingruby.com"><span class="s4">Drifting Ruby</span></a>? Where people just pay for what they need and cancel afterwards. </span></p>
<p class="p1"><span class="s3">7:41 – Dave: Yes, I do come across this. There isn’t much you can do about it. People will do what they need to do. </span></p>
<p class="p1"><span class="s3">8:24 – Jeff: We don’t have a lot of this problem with <a href="https://appsignal.com"><span class="s4">AppSignal</span></a>. By the way, I have never done that before – you are all horrible! </span><span class="s5">☺</span></p>
<p class="p1"><span class="s3">9:02 – Chuck: Let’s dive into is what is your approach to performance on Rails? </span></p>
<p class="p1"><span class="s3">9:24 – We started the vlog series to help them with that. Sometimes you run into limits of what Ruby can do, and stuff like caching can help. It’s never really a single issue. That’s one of our challenges as a company to hook into everything (integration). We do support, per communication, to help with tech issues, but usually it’s set-up related. Everybody’s problems are different because everyone’s set-up is different. </span></p>
<p class="p1"><span class="s3">11:02 – Chuck: Most of these posts are about caching and other topics. I’m going to go to something that I misunderstood for a while and that is <a href="https://blog.appsignal.com/2018/04/03/russian-doll-caching-in-rails.html"><span class="s4">Russian doll caching.</span></a> I didn’t quite make the connection in my head. </span></p>
<p class="p1"><span class="s3">11:40 – First, let’s talk about fragment caching. </span></p>
<p class="p1"><span class="s3">13:49 – Jeff explains <a href="https://blog.appsignal.com/2018/04/03/russian-doll-caching-in-rails.html"><span class="s4">Russian doll caching.</span></a> </span></p>
<p class="p1"><span class="s3">18:44 – Chuck makes comments and asks Jeff a question. </span></p>
<p class="p1"><span class="s3">19:43 – Jeff confirms the panelist’s answer. </span></p>
<p class="p1"><span class="s3">22:00 – Jeff: Another solution is <a href="https://github.com/avand/sprinkles"><span class="s4">JavaScript Sprinkles.</span></a> </span></p>
<p class="p1"><span class="s3">22:27 – Digital Ocean’s Advertisement.</span></p>
<p class="p1"><span class="s3">23:12 – Question from Chuck to Jeff. </span></p>
<p class="p1"><span class="s3">23:38 – Chuck talks about what he will discuss at the Summit conference in October.</span></p>
<p class="p1"><span class="s3">23:55 – Panelist has had experience with <a href="https://blog.appsignal.com/2018/04/03/russian-doll-caching-in-rails.html"><span class="s4">Russian doll caching</span></a>. Performance can be smoke in mirrors. Application he worked on before, we did tons of caching (query caching, <a href="https://blog.appsignal.com/2018/04/03/russian-doll-caching-in-rails.html"><span class="s4">Russian doll caching</span></a>, and others) it was all about handling the cache key. </span></p>
<p class="p1"><span class="s3">25:32 – More comments about caching from another panelist. <a href="https://www.section.io/blog/what-is-cache-warming/"><span class="s4">Cache warming</span></a> is mentioned, too. </span></p>
<p class="p1"><span class="s3">26:46 – How do you utilize <a href="https://www.section.io/blog/what-is-cache-warming/"><span class="s4">cache warming</span></a>?</span></p>
<p class="p1"><span class="s3">27:39 – Chuck asks a question.</span></p>
<p class="p1"><span class="s3">27:44 – Question answered. </span></p>
<p class="p1"><span class="s3">28:12 – Does something like this exist for <a href="http://www.phoenixsoftware.com/ode.htm"><span class="s4">Phoenix</span></a>?</span></p>
<p class="p1"><span class="s3">28:28 – Jeff: I don’t think there is something like that for <a href="http://www.phoenixsoftware.com/ode.htm"><span class="s4">Phoenix</span></a>. </span></p>
<p class="p1"><span class="s3">28:50 – Chuck: When do you want to use one caching over another caching? </span></p>
<p class="p1"><span class="s3">29:09 – Jeff: “Depends on a couple of things. <a href="https://blog.appsignal.com/2018/04/24/active-record-performance-the-n+1-queries-antipattern.html"><span class="s4">N+1</span></a> is a feature and that you “should” rely on <a href="https://blog.appsignal.com/2018/04/03/russian-doll-caching-in-rails.html"><span class="s4">Russian doll caching</span></a>, and generally that is not an accepted thing. You could do that, but that is applied to a specific thing. What do you guys think?”</span></p>
<p class="p1"><span class="s3">30:31 – Panelist: Rendering partials is an expensive endeavor. </span></p>
<p class="p1"><span class="s3">31:38 – This topic continues between panelists and Jeff. </span></p>
<p class="p1"><span class="s3">32:25 – Jeff: Fragment caching is a good fit for that. </span></p>
<p class="p1"><span class="s3">32:56 – Question: You have a blog, one of your posts that you talk about you discuss open source projects maintainable. Talk to me how that led you to write it?</span></p>
<p class="p1"><span class="s3">33:32 – Jeff: Three things you should not do, based on mistakes that I made in the past. </span></p>
<p class="p1"><span class="s3">1.) <a href="https://github.com/jeffkreeftmeijer/navvy"><span class="s4">Navvy</span></a> – had adapters for everything.</span></p>
<p class="p1"><span class="s3">2.) Dropping support for older visions of your dependencies. </span></p>
<p class="p1"><span class="s3">3.) Hand over projects if you can’t help anymore. </span></p>
<p class="p1"><span class="s3">This whole article is based on me messing up. </span></p>
<p class="p1"><span class="s3">35:07 – Chuck makes some comments. </span></p>
<p class="p1"><span class="s3">35:27 – Panelist: Ran into a problem the other day, there is a dependency that hasn’t been updated in over a year. They are waiting to solve all issues. I submitted an issue to be resolved. </span></p>
<p class="p1"><span class="s3">37:02 – <a href="https://blog.appsignal.com/2018/04/24/active-record-performance-the-n+1-queries-antipattern.html"><span class="s4">N+1 Queries</span></a> – is it a bug or a feature?</span></p>
<p class="p1"><span class="s3">37:12 – If you do nothing with it then it is a bug.</span></p>
<p class="p1"><span class="s3">37:21 – Chuck: to me a bug is an issue. It’s not a bug it’s inefficiency unless you turn it into something else.</span></p>
<p class="p1"><span class="s3">37:42 – Jeff: <a href="https://blog.appsignal.com/2018/04/24/active-record-performance-the-n+1-queries-antipattern.html"><span class="s4">N+1</span></a> is an undesirable feature? It’s not necessarily a bug. You need a very reliable caching layer. </span></p>
<p class="p1"><span class="s3">38:25 – Chuck: What is a very reliable caching layer?</span></p>
<p class="p1"><span class="s3">38:38 – Jeff answers the question. </span></p>
<p class="p1"><span class="s3">40:50 – <a href="https://redis.io"><span class="s4">Redis</span></a> is mentioned. </span></p>
<p class="p1"><span class="s3">42:04 – Jeff (guest) comments on the panelists’ thoughts. </span></p>
<p class="p1"><span class="s3">42:37 – Picks?</span></p>
<p class="p3"><span class="s6">42:57 – <a href="https://devchat.tv/get-a-coder-job/"><span class="s4">Advertisement: Chuck’s E-Book Course</span></a></span></p>
<p class="p1"><span class="s3">43:34 – Picks</span></p>
<p class="p6"><span class="s1"><b>Links:</b></span></p>

<ul class="ul1">
 	<li class="li3"><span class="s7"><a href="https://devchat.tv/get-a-coder-job/"><span class="s4">Get a Coder Job Course</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://www.ruby-lang.org/en/"><span class="s4">Ruby</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://www.javascript.com"><span class="s4">JavaScript</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="http://www.phoenixsoftware.com/ode.htm"><span class="s4">Phoenix</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://appsignal.com"><span class="s4">AppSignal</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://blog.appsignal.com/2018/04/03/russian-doll-caching-in-rails.html"><span class="s4">Russian doll caching</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://github.com/avand/sprinkles"><span class="s4">JavaScript Sprinkles.</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://www.section.io/blog/what-is-cache-warming/"><span class="s4">Cache Warming</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://blog.appsignal.com/2018/04/24/active-record-performance-the-n+1-queries-antipattern.html"><span class="s4">N+1 Query</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://redis.io"><span class="s4">Redis</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://blog.appsignal.com/2018/03/20/fragment-caching-in-rails.html"><span class="s4">Fragment Caching in Rails</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://github.com/thekompanee/fuubar"><span class="s4">Fuubar</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://github.com/jeffkreeftmeijer/navvy"><span class="s4">Navvy</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="http://asciidoc.org"><span class="s4">AsciiDoc Home Page</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://asciidoctor.org"><span class="s4">AsciiDoctor</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://meetme.so/ElixirMix"><span class="s4">Elixir Mix – Meet Me.So</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://newrelic.com/?utm_campaign=googlebrand+JM+ABM+Q1FY19+acq+NORAM&amp;utm_source=Google&amp;utm_medium=PS&amp;gclid=EAIaIQobChMIpbDg_MSz3QIVAhtpCh2qpgebEAAYASAAEgJnivD_BwE"><span class="s4">New Relic</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://elixir-lang.org"><span class="s4">Elixir</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://jeffkreeftmeijer.com"><span class="s4">Jeff Kreeftmeijer’s Website</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://twitter.com/jkreeftmeijer?lang=en"><span class="s4">Jeff Kreeftmeijer’s Twitter</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://github.com/jeffkreeftmeijer"><span class="s4">Jeff Kreeftmeijer’s GitHub</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://blog.appsignal.com/2018/07/17/javascript-sprinkled-rails-applications.html"><span class="s4">Jeff Kreeftmeijer’s AppSignal Blog</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://jeffkreeftmeijer.com/open-source-maintainability/"><span class="s4">Jeff Kreeftmeijer’s article, “Keeping open source...”</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://rubyonrails.org/"><span class="s4">Rails</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://github.com/Shopify/bootsnap"><span class="s4">Bootsnap</span></a></span></li>
</ul>
<p class="p6"><span class="s1"><b>Sponsors:</b></span></p>

<ul class="ul1">
 	<li class="li3"><span class="s7"><a href="https://sentry.io/welcome/"><span class="s4">Sentry</span></a></span></li>
 	<li class="li3"><span class="s9"><a href="https://www.digitalocean.com/"><span class="s10">Digital Ocean</span></a></span></li>
 	<li class="li3"><span class="s7"><a href="https://devchat.tv/get-a-coder-job/"><span class="s4">Get a Coder Job Course</span></a></span></li>
</ul>
<p class="p6"><span class="s1"><b>Picks:</b></span></p>
<p class="p7"><span class="s3">Charles</span></p>

<ul class="ul1">
 	<li class="li3"><span class="s11"><a href="https://www.notion.so"><span class="s12">Notion.so</span></a></span></li>
 	<li class="li3"><span class="s11"><a href="https://www.amazon.com/Travelers-Gift-Andy-Andrews/dp/0785273220/ref=as_li_ss_tl?s=books&amp;ie=UTF8&amp;qid=1534870907&amp;sr=1-3&amp;keywords=the+travelers+gift&amp;dpID=51S%252BHG%252BhcAL&amp;preST=_SY291_BO1,204,203,200_QL40_&amp;dpSrc=srch&amp;linkCode=sl1&amp;tag=devchattv-20&amp;linkId=33c1507cffc90ca4a176b9239e31e440&amp;language=en_US"><span class="s12">Traveller’s Gift by Andy Andrews</span></a></span></li>
 	<li class="li3"><span class="s11"><a href="https://www.amazon.com/Shack-William-P-Young/dp/1444701959/ref=as_li_ss_tl?ie=UTF8&amp;qid=1534870854&amp;sr=8-8&amp;keywords=the+shack&amp;linkCode=sl1&amp;tag=devchattv-20&amp;linkId=1048694a072f7e0de616f0a17f5d16fc&amp;language=en_US"><span class="s12">The Shack by William Paul Young</span></a></span></li>
</ul>
<p class="p7"><span class="s3">Dave</span></p>

<ul class="ul1">
 	<li class="li3"><span class="s11"><a href="https://www.driftingruby.com/episodes/actioncontroller-renderer"><span class="s12">Drift Ruby Episode – Renderer</span></a></span></li>
 	<li class="li3"><span class="s11"><a href="https://www.homedepot.com/p/Ryobi-1-2-Amp-16-in-Corded-Scroll-Saw-SC165VS/205419917"><span class="s12">Tool – Scroll Saw</span></a></span></li>
</ul>
<p class="p7"><span class="s3">Eric</span></p>

<ul class="ul1">
 	<li class="li7"><span class="s2"><a href="https://evernote.com/products/skitch"><span class="s12">Skitch</span></a></span><span class="s3"> – screen capture tool – free product </span></li>
 	<li class="li3"><span class="s11"><a href="https://github.com/eggplanetio/mert"><span class="s12">Library by MERT / eggplanetio by Brian Gonzalez</span></a></span></li>
</ul>
<p class="p7"><span class="s3">Jeff</span></p>

<ul class="ul1">
 	<li class="li3"><span class="s11"><a href="https://asciidoctor.org"><span class="s12">AsciiDoctor</span></a></span></li>
 	<li class="li3"><span class="s11"><a href="http://asciidoc.org"><span class="s12">AsciiDoc Home Page</span></a></span></li>
 	<li class="li3"><span class="s13"><a href="https://www.youtube.com/watch?v=ktZLpjCanvg"><span class="s12">Performance in Rails – Interview</span></a></span></li>
</ul>

<h3>Transcript</h3>


