---
layout: layouts/post.njk
title: >
      JSJ 334: “Web Performance API” with Dan Shappir
date: 2018-10-09 10:00:00
episode_number: 334
duration: 1:07:58
audio_url: https://media.devchat.tv/js-jabber/JSJ_334_Dan_Shappir_Web_Performance_API.mp3
podcast: js-jabber
tags: 
  - js_jabber
  - podcast
---

<p class="p1"><span class="s1"><b>Panel: </b></span></p>

<ul>
 	<li class="p2"><span class="s1"><a href="http://www.aimeemarieknight.com">Aimee Knight</a></span></li>
 	<li class="p3"><span class="s1"><a href="https://twitter.com/cmaxw?lang=en">Charles Max Wood</a></span></li>
 	<li class="p3"><span class="s1"><a href="https://2013.boston.wordcamp.org/speakers/">Christopher Ferdinandi (Boston)</a></span></li>
</ul>
<p class="p5"><span class="s3"><b>Special Guests:</b></span><span class="s4"> <a href="https://twitter.com/DanShappir?ref_src=twsrc%255Egoogle%257Ctwcamp%255Eserp%257Ctwgr%255Eauthor"><span class="s5">Dan Shappir </span></a></span><span class="s6">(Tel Aviv) </span></p>
<p class="p5"><span class="s4">In this episode, the panel talks with <a href="https://twitter.com/DanShappir?ref_src=twsrc%255Egoogle%257Ctwcamp%255Eserp%257Ctwgr%255Eauthor"><span class="s5">Dan Shappir</span></a></span><span class="s6"> who is a computer software developer and performance specialist at Wix.com. As Dan states, his job is to make 100 million websites (hosted on the Wix platform) load and execute faster! Past employment includes working for companies, such as: Ericom, Ericom Software, and BackWeb. He studied at Technion Institute of Management and currently lives in Tel Aviv, Israel. The panel talks about web performance API among other things. Check it out! </span></p>
<p class="p1"><span class="s1"><b>Show Topics:</b></span></p>
<p class="p1"><span class="s6">1:29 – Charles: Let us know who you are and why you’re famous!</span></p>
<p class="p1"><span class="s6">1:39 – “Hello!” from Dan Shappir. </span></p>
<p class="p1"><span class="s6">2:25 – Charles: You should say that you go to EACH site EVERY day out of the millions of sites out there. </span></p>
<p class="p1"><span class="s6">2:53 – Charles: My mom mentioned Wix to me at first. My mom teaches High School Math. </span></p>
<p class="p1"><span class="s6">3:16 – Dan: Yes that is our mission statement. That everyone can get a website without the knowledge of how to build a website. </span></p>
<p class="p1"><span class="s6">3:52 – Aimee makes her comments.</span></p>
<p class="p1"><span class="s6">3:59 – Dan: On our platform we try to offer people flexibility. There are bounds and limits, but people can do their very own thing, though. To make Wix faster because as we add more features and functionality that is our goal.</span></p>
<p class="p1"><span class="s6">4:40 – Chuck: Okay, I know how to make X perform a little bit better. You are looking at a platform that controls TONS of sites, how do you even go about that? </span></p>
<p class="p1"><span class="s6">4:58 – Dan: It is more difficult then that. We have millions of users leveraging the platform but there are a lot of developers in Wix who are developing the platform. I don’t think anyone at Wix has a total grasp of the complexity of the platform that we built. We have hundreds of frontend people working on our platform. All of them have pieces to the kingdom. We have processes in place with code reviews and whatnot, but there is so much going on. There is a change every 2 minutes, 24/7. We need to make sure progressing instead of regressing. </span></p>
<p class="p1"><span class="s6">6:54 – Aimee: I think it was interesting in one of the links you sent over. Because you know when something is getting worse you consider that a bug.</span></p>
<p class="p1"><span class="s6">7:15 – Dan: It is more than a bug because if we see regression in performance then that is a problem. I can literally see any part of the organization and say, “stop” if it will </span></p>
<p class="p1"><span class="s6">7:57 – Chuck: We are talking about performance, but what does that mean? What measures are there?</span></p>
<p class="p1"><span class="s6">8:15: Dan: We are looking at performance can mean different things in different contents. User sites, for example, most important aspect is load time. How quickly the page loads and gets open to the viewer to that specific site. When they click something they want it instantly and no drag time. It does change in different contexts. </span></p>
<p class="p1"><span class="s6">9:58 – Chuck: People do talk about load time. People have different definitions of it.</span></p>
<p class="p1"><span class="s6">10:12: Dan: Excellent question. When you look at the different sites through Wix. Different people who build sites – load time can mean something else to everybody. It can mean when you see the MAIN text or the MAIN image. If it’s on an ECON site then how soon can they purchase or on a booking site, how long can the person book X product.</span></p>
<p class="p1"><span class="s6">I heard someone at a conference say that load time is when: HERO TEXT And HERO IMAGE are displayed.</span></p>
<p class="p1"><span class="s6">12:14 – Chuck: What is faster <a href="https://reactjs.org"><span class="s7">React</span></a> or <a href="https://vuejs.org"><span class="s7">Vue</span></a>? </span></p>
<p class="p1"><span class="s6">12:21 – NEW HOST: Not sure. It all depends. </span></p>
<p class="p1"><span class="s6">12:34 – Dan: We are big into React. We are one of the big React users outside of Facebook. I joined Wix four years ago, and even back then we were rebuilding our framework using React. One of our main modifications is because we wanted to do server-side rendered.</span></p>
<p class="p1"><span class="s6">13:27 – Christopher asks Dan a question. </span></p>
<p class="p1"><span class="s6">14:16 – Dan: We are in transition in this regard. Before we were totally client-site rendered, and that was the case until middle of last year. Then we deployed...</span></p>
<p class="p1"><span class="s6">Dan: We are 100% server-side rendered now. Some things we are still using JavaScript. We have another project going on now and it’s fully CSS, and little JavaScript as possible. What you might want to do with that site is...</span></p>
<p class="p1"><span class="s6">You might get in a few months every Wix site will be visible even if JavaScript is disabled. </span></p>
<p class="p1"><span class="s6">16:26 – Aimee adds in her comments and observations to this topic. </span></p>
<p class="p1"><span class="s6">16:55 – Dan: We don’t want things displayed incorrectly before it lays out. We hide the content while it’s downloading then make it visible. They lay-outing are done faster, because...</span></p>
<p class="p1"><span class="s6">17:44 – Christopher asks Dan a question.</span></p>
<p class="p1"><span class="s6">18:04 – Dan: I got into API...</span></p>
<p class="p1"><span class="s6">Either you are moving forward or are you moving back. AKA – You are either progressing or regressing. </span></p>
<p class="p1"><span class="s1">Different stages: </span></p>
<p class="p1"><span class="s6">1.) Development stage</span></p>
<p class="p1"><span class="s6">2.) Pre-Production (automated tools that check the performance with specific use cases)</span></p>
<p class="p1"><span class="s6">3.) Check it out! </span></p>
<p class="p1"><span class="s6">It’s beneficial to use these APIs. </span></p>
<p class="p1"><span class="s6">21:11 – Christopher: What is performance APIs? </span></p>
<p class="p1"><span class="s6">21:38 – Dan: There is a working group – Todd from Microsoft and others who are exposing the information (that is available in the browser) out into the browser. When the browser downloads a certain source (image, font, etc.) it can measure the various stages of downloading that feature.<span class="Apple-converted-space">  </span>You have these different sages of downloading this resource. The browser can measure each of these stages and then expose them to you. Basically it’s for the browser to expose this information to you and in a way that is coherent and uniform. It essentially maintains this buffer that puts performance entries sequentially. </span></p>
<p class="p1"><span class="s6">Dan continues explaining this topic in detail. </span></p>
<p class="p1"><span class="s6">25:55 – Dan: You have this internal buffer...</span></p>
<p class="p1"><span class="s6">28:45 – Advertisement – Sentry – They support opensource. </span></p>
<p class="p1"><span class="s6">29:39 – Christopher: everything you are saying seems that I can use this or that tab right now...</span></p>
<p class="p1"><span class="s6">Why would I prefer the API to something visual, hypothetically?</span></p>
<p class="p1"><span class="s6">30:03 – Dan: Three Different Stages. (See above.) </span></p>
<p class="p1"><span class="s6">This information is very, very helpful during the developmental stage. Say you got a link from someone...</span></p>
<p class="p2"><span class="s8">Dan mentions: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance/mark"><span class="s2">Performance.mark</span></a></span></p>
<p class="p1"><span class="s6">34:04 – Aimee: When you were talking about resource-ends. Many people don’t know what this is. Can you spend 2-3 minutes about how you guys are using these? Are there people can add for big bang for their buck?</span></p>
<p class="p1"><span class="s6">34:41 – Dan: This might want to be a topic for its own podcast show. </span></p>
<p class="p1"><span class="s6">Dan gives a definition of what a resource-end means. </span></p>
<p class="p1"><span class="s6">Go back to fonts as an example. </span></p>
<p class="p1"><span class="s6">Pre-connect for example, too. </span></p>
<p class="p1"><span class="s6">39:03 – Dan: Like I said, it’s a huge topic. </span></p>
<p class="p1"><span class="s6">You have to exercise some care. Bandwidth is limited. Make sure you aren’t blocking other resources that you do need right now. </span></p>
<p class="p1"><span class="s6">40:02 – Aimee: Sounds like a lot of great things to tap into. Another question I have is about bundling.</span></p>
<p class="p1"><span class="s6">40:27 – Dan: One of the things that we try to do (given that we are depending on the JavaScript we are downloading) we need to download JavaScript content to the client side. It has been shown often that JS is the most impactful resources that you need to download. You really want to be as smart as possible with that. What is even more challenging is the network protocols are changing. </span></p>
<p class="p1"><span class="s6"><i>Dan continues to go in-depth about this topic. </i></span></p>
<p class="p1"><span class="s6">Dan: What we have found is that you want to strive to bundle resources together. </span></p>
<p class="p1"><span class="s6">44:10 – Aimee: Makes sense.</span></p>
<p class="p1"><span class="s6">44:15 – Dan continues talking about this topic. </span></p>
<p class="p1"><span class="s6">45:23 – Chuck asks two questions. (First question is now and second question is at 51:32.) </span></p>
<p class="p1"><span class="s1">2 Questions:</span></p>
<p class="p1"><span class="s6">1. You gather information from web performance AI - What system is that? </span></p>
<p class="p1"><span class="s6">45:42 – Dan: I am not the expert in that. I will try not to give misleading information. Actually let me phrase it different. There are 3</span><span class="s9"><sup>rd</sup></span><span class="s6"> party tools that you can use leverage in your website. IF you are building for commercial reasons I highly recommend that you use performance-monitoring solution. I am not going to advertise one because there are tons out there. We ended up rolling out our own infrastructure because our use case is different than most. </span></p>
<p class="p1"><span class="s6">At a conference I talked with a vendor and we talked about...</span></p>
<p class="p1"><span class="s6">51:32 – 2</span><span class="s9"><sup>nd</sup></span><span class="s6"> Question from Charles to Dan: Now you’ve gathered this information now what to you do? What patterns? What do you look for? And how do you decide to optimize things? </span></p>
<p class="p1"><span class="s6">54:23 – Chuck: Back to that question, Dan. How should they react to it and what are they looking for</span></p>
<p class="p1"><span class="s6">54:41 – Dan: Three main ways: 1.) Generate alerts 2.) See trends over long period of time 3.) Looking at real-time graphs. </span></p>
<p class="p1"><span class="s6">Frontend developer pro is that likely being woken up in the middle of the night is lower. We might be looking at the real time graph after we deployed...</span></p>
<p class="p1"><span class="s6">57:31 – Advertisement – Get a Coder Job!</span></p>
<p class="p1"><span class="s6">58:10 – Picks! </span></p>
<p class="p1"><span class="s1"><b>Links:</b></span></p>

<ul class="ul1">
 	<li class="li2"><span class="s10"><a href="https://www.javascript.com"><span class="s2">JavaScript</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://jquery.com"><span class="s2">jQuery</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://reactjs.org"><span class="s2">React</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://elixir-lang.org"><span class="s2">Elixir</span></a></span></li>
 	<li class="li1"><a href="http://elm-lang.org"><span class="s2">Elm</span></a></li>
 	<li class="li1"><a href="https://vuejs.org"><span class="s2">Vue</span></a></li>
 	<li class="li1"><a href="https://www.wix.com"><span class="s2">Wix</span></a></li>
 	<li class="li2"><span class="s10"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/performance"><span class="s2">Window Performance</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://www.w3.org/webperf/"><span class="s2">Web Performance</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://itunes.apple.com/us/app/terragenesis-space-colony/id1039841501?mt=8"><span class="s2">Terra Genesis</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://play.google.com/store/apps/details?id=com.alexanderwinn.TerraGenesis&amp;hl=en_US"><span class="s2">Terra Genesis: Space Colony</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://www.amazon.com/ONE-Thing-Surprisingly-Extraordinary-Results/dp/1885167776/ref=as_li_ss_tl?ie=UTF8&amp;qid=1535488914&amp;sr=8-1&amp;keywords=the+one+thing&amp;dpID=31bLXJwHXlL&amp;preST=_SY291_BO1,204,203,200_QL40_&amp;dpSrc=srch&amp;linkCode=sl1&amp;tag=devchattv-20&amp;linkId=48a970a5c61e9d72b797162776c7052f&amp;language=en_US"><span class="s2">The One Thing</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://www.youtube.com/c/devchattv"><span class="s2">DevChat TV – YouTube</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://github.com/toomuchdesign/offside"><span class="s2">GitHub: Off Side</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://www.hbo.com/insecure"><span class="s2">HBO: Insecure</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://www.wix.engineering"><span class="s2">Wix: Engineering</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://twitter.com/hashtag/JavaScriptRiddle"><span class="s2">JavaScript Riddle</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://fwdays.com/en/event/frontend-fwdays-17/review/javascript-riddles"><span class="s2">JavaScript Riddles for Fun and for Profit</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://twitter.com/DanShappir?ref_src=twsrc%255Egoogle%257Ctwcamp%255Eserp%257Ctwgr%255Eauthor"><span class="s2">Dan Shappir’s Twitter</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://il.linkedin.com/in/dshappir"><span class="s2">Dan Shappir’s LinkedIn</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://www.crunchbase.com/person/dan-shappir"><span class="s2">Dan Shappir’s Crunch Base</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://github.com/DanShappir"><span class="s2">Dan Shappir’s GitHub</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://conferences.oreilly.com/fluent/fl-ca/public/schedule/speaker/221820"><span class="s2">Dan Shappir’s Talk through Fluent</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://medium.com/@DanShappir"><span class="s2">Dan Shappir’s Medium</span></a></span></li>
 	<li class="li2"><span class="s10"><a href="https://youtu.be/D-juPGb7EKY"><span class="s2">Dan Shappir’s YouTube Talk: JavaScript riddles for fun and profit</span></a></span></li>
</ul>
<p class="p1"><span class="s1"><b>Sponsors:</b></span></p>

<ul class="ul1">
 	<li class="li2"><span class="s11"><a href="http://codebadge.org"><span class="s12">Code Badges</span></a></span></li>
 	<li class="li2"><a href="https://www.telerik.com/kendo-ui?utm_medium=social-paid&amp;utm_source=devchattv&amp;utm_campaign=kendo-ui-awareness-jsjabber"><span class="s1">Kendo UI</span></a></li>
 	<li class="li2"><a href="https://sentry.io/welcome/"><span class="s1">Sentry</span></a></li>
 	<li class="li2"><a href="https://www.cachefly.com"><span class="s1">Digital Ocean</span></a></li>
 	<li class="li2"><a href="https://www.cachefly.com"><span class="s1">Cache Fly</span></a></li>
 	<li class="li8"></li>
</ul>
<p class="p9"><span class="s1"><b>Picks:</b></span></p>
<p class="p10"><span class="s1"><a href="http://www.aimeemarieknight.com">Aimee:</a></span></p>

<ul class="ul1">
 	<li class="li9"><span class="s6">Waking up early! </span></li>
 	<li class="li9"><span class="s14"><a href="https://jrsinclair.com/articles/2018/how-to-deal-with-dirty-side-effects-in-your-pure-functional-javascript/"><span class="s15">How to Deal with Dirty Side Effects in Your Pure Functional JavaScript </span></a></span></li>
</ul>
<p class="p10"><span class="s1"><a href="https://2013.boston.wordcamp.org/speakers/">Chris</a></span><span class="s8">:</span></p>

<ul class="ul1">
 	<li class="li9"><span class="s14"><a href="https://github.com/toomuchdesign/offside"><span class="s15">Offside - Toomuchdesign</span></a></span></li>
 	<li class="li9"><span class="s14"><a href="https://www.hbo.com/insecure"><span class="s15">Insecure TV Show </span></a></span></li>
</ul>
<p class="p10"><span class="s1"><a href="https://twitter.com/cmaxw?ref_src=twsrc%255Egoogle%257Ctwcamp%255Eserp%257Ctwgr%255Eauthor">Charles:</a></span></p>

<ul class="ul1">
 	<li class="li9"><span class="s14"><a href="https://play.google.com/store/apps/details?id=com.alexanderwinn.TerraGenesis&amp;hl=en_US"><span class="s15">Terraform - Game </span></a></span></li>
 	<li class="li12"><span class="s16"><a href="https://www.amazon.com/ONE-Thing-Surprisingly-Extraordinary-Results/dp/1885167776/ref=as_li_ss_tl?ie=UTF8&amp;qid=1535488914&amp;sr=8-1&amp;keywords=the+one+thing&amp;dpID=31bLXJwHXlL&amp;preST=_SY291_BO1,204,203,200_QL40_&amp;dpSrc=srch&amp;linkCode=sl1&amp;tag=devchattv-20&amp;linkId=48a970a5c61e9d72b797162776c7052f&amp;language=en_US"><span class="s17">“The One Thing"</span></a></span></li>
 	<li class="li12"><span class="s14"><a href="http://codebadge.org/"><span class="s18">Code Badge</span></a></span></li>
 	<li class="li12"><span class="s14"><a href="https://www.youtube.com/c/devchattv"><span class="s18">DevChat on YouTube</span></a></span></li>
</ul>
<p class="p14"><span class="s1"><a href="https://twitter.com/DanShappir?ref_src=twsrc%255Egoogle%257Ctwcamp%255Eserp%257Ctwgr%255Eauthor">Dan</a></span></p>

<ul class="ul1">
 	<li class="li12"><span class="s14"><a href="https://www.wix.engineering/"><span class="s18">Wix Engineering </span></a></span></li>
 	<li class="li15"><span class="s20"><a href="https://twitter.com/hashtag/JavaScriptRiddle"><span class="s21">JavaScript Riddle</span></a></span></li>
</ul>

<h3>Transcript</h3>


