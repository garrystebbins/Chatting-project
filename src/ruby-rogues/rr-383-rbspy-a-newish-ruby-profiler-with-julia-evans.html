---
layout: layouts/post.njk
title: >
      RR 383: “Rbspy: A New(ish) Ruby Profiler!” with Julia Evans
date: 2018-10-09 10:00:47
episode_number: 383
duration: 49:25
audio_url: https://media.devchat.tv/ruby-rogues/RR_383_Rbspy_a_newish_Ruby_profiler_with_Julia_Evans.mp3
podcast: ruby-rogues
tags: 
  - ruby_rogues
  - podcast
---

<p class="p1"><span class="s1"><b>Panel: </b></span></p>

<ul>
 	<li class="p2"><span class="s2"><a href="https://twitter.com/cmaxw?lang=en">Charles Max Wood</a></span></li>
 	<li class="p2"><span class="s2"><a href="https://www.linkedin.com/in/kobaltz">Dave Kimura</a></span></li>
 	<li class="p2"><span class="s2">David Richards</span></li>
</ul>
<p class="p1"><span class="s1"><b>Special Guests:</b> Julia Evans</span></p>
<p class="p1"><span class="s1">In this episode of Ruby Rogues, the panel talks with Julia Evans who is a software engineer at Stripe and lives in Montreal, Quebec, Canada. The panel talks with Julia about her tool Ruby Spy among other topics. Check it out! </span></p>
<p class="p1"><span class="s1"><b>Show Topics:</b></span></p>
<p class="p1"><span class="s1">1:34 – Julia gives her background.</span></p>
<p class="p1"><span class="s1">1:52 – Chuck: You’ve been on the show before. Listeners, go check it out!</span></p>
<p class="p1"><span class="s1">2:30 – What is Ruby Spy?</span></p>
<p class="p1"><span class="s1">2:09 – Julia: I wanted to know WHY my computer was doing what it was doing. I felt that it was my right, so I wrote that program. </span></p>
<p class="p1"><span class="s1">3:20 – Julia: This does have these profiling tools in Java. I thought it was unfair that Java had better tools than Ruby. I figured Ruby should have it, too.</span></p>
<p class="p1"><span class="s1">3:44 – Chuck talks about tools and Ruby Spy.</span></p>
<p class="p1"><span class="s1">4:05 – Julia recommends it. </span></p>
<p class="p1"><span class="s1">Julia: You had to install the gem in order to use it.</span></p>
<p class="p1"><span class="s1">4:30 – Chuck: some people say that it has affected their performance.</span></p>
<p class="p1"><span class="s1">4:42 – Julia: Ruby Spy is a separate process. </span></p>
<p class="p1"><span class="s1">Julia continues this conversation and goes in-depth of what Ruby Spy is, etc.</span></p>
<p class="p1"><span class="s1">5:27 – When would you use something like this, and what kind of data would get you back to debug the slow points.</span></p>
<p class="p1"><span class="s1">5:43 – Julia: When you run Ruby Spy it will...</span></p>
<p class="p1"><span class="s1">6:20 – Chuck: Does it give you method names?</span></p>
<p class="p1"><span class="s1">6:25 – Julia: Yes, 20% in this method or...</span></p>
<p class="p1"><span class="s1">6:37 – I can see how that would be helpful on certain aspects. Being able to narrow down the 1,000 methods where you cab get your biggest bang for your buck. </span></p>
<p class="p1"><span class="s1">7:05 – Julia comments. </span></p>
<p class="p1"><span class="s1">7:35 – Chuck: I know people pay for Relic...</span></p>
<p class="p1"><span class="s1">7:56 – Chuck: When it tells you which method is taking a long time, will it look at the stack and THIS method is insufficient b/c this other method is insufficient? How does it do that? </span></p>
<p class="p1"><span class="s1">8:35 – Julia answers the questions.</span></p>
<p class="p1"><span class="s1">8:58 – Chuck: I’d imagine that it could keep anything in memory. Did you have to do a bunch of work where THAT means THAT?</span></p>
<p class="p1"><span class="s1">9:20 – Julia answers. </span></p>
<p class="p1"><span class="s1">Julia: The differences weren’t that big between the different versions.</span></p>
<p class="p1"><span class="s1">9:54 – Julia goes through the different ways the versions are different.</span></p>
<p class="p1"><span class="s1">11:56 – Panelist asks a question. </span></p>
<p class="p1"><span class="s1">Is this meant for Ruby Scripts?</span></p>
<p class="p1"><span class="s1">12:10 – Julia: It doesn’t care – as long as you are using the Ruby Interpreter.</span></p>
<p class="p1"><span class="s1">12:25 – Chuck: Sometimes my performance issues is Ruby, and sometimes it’s the database. For Ruby it will sit there and wait for IO. Is that a blind spot that you will have in Ruby Spy?</span></p>
<p class="p1"><span class="s1">12:54 – Julia: Great question. There are 2 ways to do profiling. </span></p>
<p class="p1"><span class="s1"><i>Julia explains these two ways. </i></span></p>
<p class="p1"><span class="s1">13:54 – Wall Clock Time.</span></p>
<p class="p1"><span class="s1">14:04 – Chuck: Your computer has a speed and however long it takes to run one cycle. It is similar, but...</span></p>
<p class="p1"><span class="s1">14:26 – I guess as long as it’s relative – I was looking at these graphs you wrote. </span></p>
<p class="p1"><span class="s1">14:51 – Julia.</span></p>
<p class="p1"><span class="s1">14:56 – Panelist: That has been my issue. Changing context into a profiler...</span></p>
<p class="p1"><span class="s1">15:27 – Julia.</span></p>
<p class="p1"><span class="s1">15:38 – Chuck: Do you have to run it through something...?</span></p>
<p class="p1"><span class="s1">15:49 – Julia.</span></p>
<p class="p1"><span class="s1">15:53 – Chuck: Is that the most effective way to look at the data through Ruby Spy?</span></p>
<p class="p1"><span class="s1">16:07 – Julia: I twill show you the output as it is profiling. 2 visualizations: flame graph and...</span></p>
<p class="p1"><span class="s1">16:45 – Chuck.</span></p>
<p class="p1"><span class="s1">16:49 – Julia: It is the only visualization that I know of.</span></p>
<p class="p1"><span class="s1">17:00 – Chuck: I don’t know.</span></p>
<p class="p1"><span class="s1">17:05 – Julia: You have spent this amount of % to...</span></p>
<p class="p1"><span class="s1">How much time was spent in this function or that function?</span></p>
<p class="p1"><span class="s1">I feel that the flame graph is much more helpful than a list of percentages.</span></p>
<p class="p1"><span class="s1">17:33 – Chuck: What are you looking at in the flame graph?</span></p>
<p class="p1"><span class="s1">17:37 – Guest: Basically what time was spent in that function. You look at what is big, and then you figure out if that is something to optimize or not. You go to the docs and...</span></p>
<p class="p1"><span class="s1">18:36 – Jackal.</span></p>
<p class="p1"><span class="s1">18:40 – Main problem that I would run into is the information OVERLOAD. </span></p>
<p class="p1"><span class="s1">Now you have the action controllers and all these other components that aren’t normally visual.</span></p>
<p class="p1"><span class="s1">Panelist asks a question to Julia.</span></p>
<p class="p1"><span class="s1">19:29 – Julia: It does give you everything. If you have a real serious problem often the answer will really jump out at you. What I would say – if something is really slow it is right there.</span></p>
<p class="p1"><span class="s1">20:08 – Chuck: You will see the name of the method?</span></p>
<p class="p1"><span class="s1">20:15 – Chuck: Any other information it will give you?</span></p>
<p class="p1"><span class="s1">20:22 – Julia: The line number.</span></p>
<p class="p1"><span class="s1">20:28 – Chuck asks another question.</span></p>
<p class="p1"><span class="s1">20:41 – Chuck: Success stories?</span></p>
<p class="p1"><span class="s1">20:45 – Julia: Yes, I do. GitHub – success stories. </span></p>
<p class="p1"><span class="s1">Julia gives us one of her success stories. This user said that it helped them by 30%. </span></p>
<p class="p1"><span class="s1">21:28 – I can’t imagine using a Rail app that is over 10 years old. So much as changed! A lot of the documentation would be harder to find. </span></p>
<p class="p1"><span class="s1">22:00 – Julia gives another example of a success story.</span></p>
<p class="p1"><span class="s1">22:10 – When it goes to production – my brain turns off and get jittery. Figure out what happens in production and I wouldn’t want to guess for an app that couldn’t be down. This is what is happening right here and right now. </span></p>
<p class="p1"><span class="s1">22:46 – Chuck: How do they get it out into production...</span></p>
<p class="p1"><span class="s1">22:57 – Julia: Through GitHub that you can download. If you are on a Mac and your developing you can do it through Home Brew.</span></p>
<p class="p1"><span class="s1">23:17 – Chuck and Julia go back and forth.</span></p>
<p class="p1"><span class="s1">23:27 – Panelist: You don’t need to have it all the time, but a good tool.</span></p>
<p class="p1"><span class="s1">23:44 – Julia: I want people to use it but not all the time; only when they need it.</span></p>
<p class="p1"><span class="s1">23:58 – Panelist: I think on a lot of these scripts...</span></p>
<p class="p1"><span class="s1"><i>Rails Panel – Panelist mentions this. </i></span></p>
<p class="p1"><span class="s1">25:02 – Panelist asks her a question.</span></p>
<p class="p1"><span class="s1">25:12 – Pie Spy is something else that someone wrote. </span></p>
<p class="p1"><span class="s1">25:28 – Julia: Ruby Spy came first, and Pie Spy is inspired Ruby Spy. He did a good job building that.</span></p>
<p class="p1"><span class="s1">25:50 – Advertisement – Code Badges</span></p>
<p class="p1"><span class="s1">26:35 – People still use PHP?</span></p>
<p class="p1"><span class="s1">26:42 – Julia: Yep!</span></p>
<p class="p1"><span class="s1">26:47 – Chuck talks about his neighbor and how he raves about this feature or that feature.</span></p>
<p class="p1"><span class="s1">27:07 – In PHP’s defense it has come a long way. I think they are at version 7 or version 8. Sounds like they did a lot of new things with the language.</span></p>
<p class="p1"><span class="s1">27:31 – Julia: Instead of that or this language is better – what TOOLS can we use? I hear Ruby users make fun of Java, but Java has great tools. What can we learn from that language rather than bashing the other languages?</span></p>
<p class="p1"><span class="s1">28:13 – Chuck chimes-in.</span></p>
<p class="p1"><span class="s1">Dot.net.</span></p>
<p class="p1"><span class="s1">28:58 – Chuck: Let’s talk about that with the opensource.</span></p>
<p class="p1"><span class="s1">29:09 – Julia talks about the opensource project. </span></p>
<p class="p1"><span class="s1">30:30 – Julia: I asked my manager at Stripe to do this sabbatical in advance. I worked on it for 3 months. I got a check from Segment.</span></p>
<p class="p1"><span class="s1">31:05 – Panelist adds in his comments and asks a question.</span></p>
<p class="p1"><span class="s1">31:26 – Julia never used it.</span></p>
<p class="p1"><span class="s1">31:32 – I have done a lot with Ruby Motion in the past. I am curious how that would work with Ruby Spy?</span></p>
<p class="p1"><span class="s1">32:18 – IOS is pretty locked down, so I don’t think that would fly.</span></p>
<p class="p1"><span class="s1">32:36 – Chuck talks about Ruby Motion and how he thinks Ruby Spy would / wouldn’t fit. </span></p>
<p class="p1"><span class="s1">32:56 – What is funny about that, Chuck, is that you can ALT click...</span></p>
<p class="p1"><span class="s1">34:07 – Chuck mentions another app.</span></p>
<p class="p1"><span class="s1">34:17 – Julia.</span></p>
<p class="p1"><span class="s1">34:40 – Chuck. </span></p>
<p class="p1"><span class="s1">35:03 – Chuck: What else are you doing with Ruby Spy that is new? </span></p>
<p class="p1"><span class="s1">35:05 – Julia: Not much.</span></p>
<p class="p1"><span class="s1">It’s fun to see people come in to make contributions. </span></p>
<p class="p1"><span class="s1">35:33 – Panelist: Here is a suggestion, some kind of web server that you could...</span></p>
<p class="p1"><span class="s1">35:57 – Great idea.</span></p>
<p class="p1"><span class="s1">36:04 – Chuck: It wouldn’t be hard to embed it. </span></p>
<p class="p1"><span class="s1">36:12 – Julia: Sharing it between...so we don’t have to build the same thing twice. </span></p>
<p class="p1"><span class="s1">36:33 – Chuck and Julia go back-and-forth about Ruby Spy and Pie Spy,</span></p>
<p class="p1"><span class="s1">37:23 – Julia: Pearl was my first language, and I still love it.</span></p>
<p class="p1"><span class="s1">37:32 – Chuck: I guess I can’t knock it because I really haven’t tried it.</span></p>
<p class="p1"><span class="s1">37:48 – Ruby was inspired by Pearl so there’s that.</span></p>
<p class="p1"><span class="s1">37:57 – Chuck: How do people start using your tool? What is your advice? </span></p>
<p class="p1"><span class="s1">38:01 – Julia: Yeah just try it and see. Install it through Home Brew if you have a Mac.</span></p>
<p class="p1"><span class="s1">38:25 – Chuck: Picks!</span></p>
<p class="p1"><span class="s1">38:32 – Advertisement – Get a Coder Job. </span></p>
<p class="p1"><span class="s1">39:07 – Picks! </span></p>
<p class="p7"><span class="s2"><b>Links:</b></span></p>

<ul class="ul1">
 	<li class="li2"><span class="s3"><a href="https://devchat.tv/get-a-coder-job/"><span class="s4">Get a Coder Job Course</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="http://www.rubymotion.com"><span class="s4">Ruby Motion</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://rubyonrails.org"><span class="s4">Ruby on Rails</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://github.com/tmm1/stackprof"><span class="s4">StackProf – GitHub</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://rbspy.github.io"><span class="s4">Ruby Spy</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://github.com/dejan/rails_panel"><span class="s4">Rails_Panel – GitHub</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://twitter.com/b0rk"><span class="s4">Julia Evans’ Twitter</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://jvns.ca"><span class="s4">Julia Evans’ Blog</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://github.com/jvns"><span class="s4">Julia Evans’ GitHub</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://www.linkedin.com/in/jvans/?originalSubdomain=ca"><span class="s4">Julia Evans’ LinkedIn</span></a></span></li>
</ul>
<p class="p7"><span class="s2"><b>Sponsors:</b></span></p>

<ul class="ul1">
 	<li class="li2"><span class="s3"><a href="https://sentry.io/welcome/"><span class="s4">Sentry</span></a></span></li>
 	<li class="li2"><span class="s6"><a href="https://www.digitalocean.com/"><span class="s7">Digital Ocean</span></a></span></li>
 	<li class="li2"><span class="s3"><a href="https://devchat.tv/get-a-coder-job/"><span class="s4">Get a Coder Job Course</span></a></span></li>
</ul>
<p class="p7"><span class="s2"><b>Picks:</b></span></p>
<p class="p8"><span class="s1">Dave </span></p>

<ul class="ul1">
 	<li class="li9"><span class="s8"><a href="https://www.amazon.com/Larin-RBV-5-5-Multi-Function-Vise/dp/B00EQ4ZUYW"><span class="s9">Vise</span></a></span></li>
 	<li class="li9"><span class="s10"><a href="https://www.hisense-usa.com/appliances/refrigerators-freezers/fe703"><span class="s11">Deep Freeze</span></a></span></li>
</ul>
<p class="p9"><span class="s1">Charles </span></p>

<ul class="ul1">
 	<li class="li9"><span class="s10"><a href="https://phoenixframework.org/"><span class="s11">Elixir in Phoenix</span></a></span></li>
 	<li class="li9"><span class="s10"><a href="https://vuejs.org/"><span class="s11">Vue JS</span></a></span></li>
 	<li class="li9"><span class="s10"><a href="https://devchat.tv/views-on-vue/"><span class="s11">Views on Vue</span></a></span></li>
 	<li class="li9"><span class="s1">Side Projects </span></li>
 	<li class="li9"><span class="s10"><a href="https://www.amazon.com/s/?ie=UTF8&amp;keywords=doc+mcstuffin+headphones&amp;tag=googhydr-20&amp;index=aps&amp;hvadid=228951601422&amp;hvpos=1t1&amp;hvnetw=g&amp;hvrand=6261848803680440785&amp;hvpone=&amp;hvptwo=&amp;hvqmt=e&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9027276&amp;hvtargid=kwd-315409398959&amp;ref=pd_sl_6a74yt1xtv_e_p37"><span class="s11">Doc McStuffins Headphones </span></a></span></li>
</ul>
<p class="p9"><span class="s1">David </span></p>

<ul class="ul1">
 	<li class="li9"><span class="s10"><a href="https://www.amazon.com/s/ref=nb_sb_noss/144-8883445-7498028?url=search-alias%253Daps&amp;field-keywords=ed+lahey"><span class="s11">Ed Lahey</span></a></span></li>
</ul>
<p class="p9"><span class="s1">Julia </span></p>

<ul class="ul1">
 	<li class="li9"><span class="s10"><a href="https://www.amazon.ca/Growing-Business-Paul-Hawken/dp/0671671642"><span class="s11">Growing a Business</span></a></span></li>
 	<li class="li12"><span class="s12"><a href="https://itunes.apple.com/us/app/notability/id360593530?mt=8"><span class="s13">Notability App</span></a></span></li>
</ul>

<h3>Transcript</h3>


