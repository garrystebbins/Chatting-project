---
layout: layouts/post.njk
title: >
      EMx 026: Higher Level Functions GenState Deployments with Bill Peregoy
date: 2018-11-06 11:00:19
episode_number: 026
duration: 54:06
audio_url: https://media.devchat.tv/elixir-mix/EMx_026_Higher_Level_Functions_GenState_Deployments_with_Bill_Peregoy.mp3
podcast: elixir-mix
tags: 
  - elixir_mix
  - podcast
---

<p class="p1"><span class="s1"><b>Panel: </b></span></p>

<ul>
 	<li class="p1"><span class="s2">Mark Ericksen</span></li>
 	<li class="p1"><span class="s2">Josh Adams </span></li>
 	<li class="p1"><span class="s2">Charles Max Wood </span></li>
</ul>
<p class="p1"><span class="s1"><b>Special Guest:</b></span><span class="s2"> Bill Peregoy</span></p>
<p class="p3"><span class="s2">In this episode of Elixir Mix, the panel talks with Bill Peregoy who is a software engineer who uses Elixir and loves Graph QL. The panel talks with Bill about his Elixir background, in addition to past and current projects. Check out today’s episode to hear the panel talk about Elixir, Graph QL, code reviews, and much more! </span></p>
<p class="p4"><span class="s1"><b>Show Topics:</b></span></p>
<p class="p5"><span class="s3">0:00 – <a href="https://devchat.tv/get-a-coder-job/"><span class="s4">Advertisement: Get A Coder Job!</span></a></span><span class="s1"> </span></p>
<p class="p1"><span class="s2">1:07 – Chuck: Tell us who you are and why you are famous?</span></p>
<p class="p1"><span class="s2">1:16 – Guest: Here it goes...I have a diverse background. I have a background in hardware and went into software and it got me into Ruby. From there I moved to the software world and in constant contact with a Ruby project. Then I found an Elixir book and thought it was really cool. About a year ago I started working with a consulting company that uses Elixir. They have a cool entrepreneur group. Then about 3 months ago I transferred to another project.</span></p>
<p class="p1"><span class="s2">2:41 – Panel: The <a href="https://www.mbta.com"><span class="s4">MBTA?</span></a></span></p>
<p class="p1"><span class="s2">2:49 – Guest: You thought I was using old crust technology, but they are using new technologies. </span></p>
<p class="p1"><span class="s2">3:06 – Panel: You have this hardware background have you looked at NERVES?</span></p>
<p class="p1"><span class="s2">3:17 – Guest: I have an interest in it.</span></p>
<p class="p1"><span class="s2">3:34 – Let’s talk about deploying Elixir apps. Getting into Elixir might be interesting to talk about? Let’s talk about how you got into Elixir, please. </span></p>
<p class="p1"><span class="s2">3:55 – Guest: I had an easy slide into it. </span></p>
<p class="p1"><span class="s2"><i>The guest talks about how to structure code and how he learned about Elixir. </i></span></p>
<p class="p1"><span class="s2">4:34 – Chuck: Where would have gotten into trouble if you didn’t have that?</span></p>
<p class="p1"><span class="s2">4:39 – Guest: ...how do you organize code? It’s a bunch of modules with functions in them.</span></p>
<p class="p1"><span class="s2">5:19 – Panel: You mentioned code reviews – and to me that’s how you learn something fast.</span></p>
<p class="p1"><span class="s2">5:30 – Guest: I was lucky to have worked with a person who is really picky about code reviews. They were detailed and I learned a lot from him.</span></p>
<p class="p1"><span class="s2">5:53 – Panel: I give code reviews, too. What makes a good code review from the receiving end?</span></p>
<p class="p1"><span class="s2">6:12 – <i>Guest answers the question.</i> </span></p>
<p class="p1"><span class="s2">Guest: Don’t write the code for me, but...here is a general direction. </span></p>
<p class="p1"><span class="s2">6:37 – Panel: I give the person a wrong review so they have to learn it.</span></p>
<p class="p1"><span class="s2">7:00 – Chuck: Would have it been easier if it was a smaller project?</span></p>
<p class="p1"><span class="s2">7:10 – Guest: I think it helped that it was a larger project.</span></p>
<p class="p1"><span class="s2">7:29 – Chuck: We have talked about deployment and other tools that you’ve used. What I am curious about – you were using AWS and ECS can you talk about that, please? </span></p>
<p class="p1"><span class="s2">8:00 – Guest: It was a wild ride for me. We knew we’d have to get there eventually and went for it. We never had deployed an Elixir app before. I had little knowledge with AWS, so there were thousands of new things I was learning in one week. I learned a lot from this guy and he said let’s get the app running, then let’s take it to an RDS, then let’s make sure this and that work.</span></p>
<p class="p1"><span class="s2">There is a lot going on there, but breaking it down you could figure it out when they came up.</span></p>
<p class="p1"><span class="s2">It was a lifesaver having his work b/c it would have taken me weeks instead of a few days.</span></p>
<p class="p1"><span class="s2">9:28 – Chuck: My wife and I watched <a href="https://www.imdb.com/title/tt3659388/"><span class="s4">The Martian</span></a> a few days ago. The character said: you solve one problem at a time. </span></p>
<p class="p1"><span class="s2">9:47 – Guest: Yes. </span></p>
<p class="p1"><span class="s2">10:00 – Guest: The article, <a href="https://joaquimadraz.com/guide-to-deploy-an-elixir-phoenix-app-to-aws-ecs"><span class="s4">“Guide to Deploy a...”</span></a></span></p>
<p class="p1"><span class="s2">10:20 – Guest: I understood the pieces very well.</span></p>
<p class="p1"><span class="s2">10:30 – Panel: Setting up an umbrella project. Is that how you have yours set-up?</span></p>
<p class="p1"><span class="s2">10:48 – Guest: Single Phoenix application for me. </span></p>
<p class="p1"><span class="s2">11:15 – Panel: Sounds like you were learning a lot of different technologies – any big “AH HA” moments?</span></p>
<p class="p1"><span class="s2">11:30 – <i>Guest answers the question.</i> </span></p>
<p class="p1"><span class="s2">12:15 – Panel: I like how the Distillery 2.0 Guide and the docker file...</span></p>
<p class="p1"><span class="s2">12:30 – Chuck: Walk us through your structure of your talk?</span></p>
<p class="p1"><span class="s2">12:39 – Guest: Yes, higher order functions - that’s what I was talking about. Where in the Elixir world you want to pass around functions. I had this idea that I had one task that was very similar but you had to do it multiple times. To do that I defined one piece of code that...</span></p>
<p class="p1"><span class="s2">It was a way to reuse a lot of code and...</span></p>
<p class="p1"><span class="s2">13:51 – Panel: That is a pattern I enjoy using. Instead of using a mocking library I like a function that can direct it. The thing I enjoyed about it was that I could have a test data and a test interface in a production environment. I could create a customer...</span></p>
<p class="p1"><span class="s2">15:06 – Guest. </span></p>
<p class="p1"><span class="s2">15:44 – Guest: Gen state is pretty awesome. It’s not in Elixir Proper, yet. </span></p>
<p class="p1"><span class="s2">16:55 – Chuck: I can see how that is helpful. You have to manage the pipeline on your own. </span></p>
<p class="p1"><span class="s2">17:18 – Guest: You can upload a certain number of permits. That can be handled behind the scenes. </span></p>
<p class="p1"><span class="s2">17:45 – Panel: Yeah the first state was manage the Q and then...</span></p>
<p class="p1"><span class="s2">18:48 – Guest: That is what I am doing right now – one at a time right now. If I need more processing on this one node, I can...</span></p>
<p class="p1"><span class="s2">19:20 – Panel: That’s when Elixir feels very powerful. </span></p>
<p class="p1"><span class="s2">19:26 – Guest: That’s a talk I have a lot. Ruby is great, but when you dive into OPT in Elixir then it’s amazing. </span></p>
<p class="p1"><span class="s2">19:54 – Chuck: We are starting to get there with Elixir. I don’t miss as much stuff with Ruby as I did before. </span></p>
<p class="p1"><span class="s2">20:10 – Guest: What libraries I don’t need and I haven’t come across that just yet. </span></p>
<p class="p1"><span class="s2">20:44 – <i>Panel asks a question.</i></span></p>
<p class="p1"><span class="s2">20:50 – Guest: I wasn’t directly involved. They are working with predictions for bust lines. And they grab data form many different sources. They are trying to combine all that data and it has been a good solution for them. </span></p>
<p class="p1"><span class="s2">21:25 – Panel: Since you have a Ruby background and hardware – what is the Elixir system like for you?</span></p>
<p class="p1"><span class="s2">21:41 – Guest: I haven’t come across too many problems. Elixir’s language tends to be smaller – which I like. I think people from JavaScript like having NEW things all of the time. Elixir is done and we are just adding small things here and there.</span></p>
<p class="p1"><span class="s2">22:13 – Panel: Yeah, I agree. Elixir is a mature platform right now. </span></p>
<p class="p1"><span class="s2">22:45 – Guest: Elixir is very mature – I agree. </span></p>
<p class="p1"><span class="s2">23:10 – Panel: I think it being built with care is nice. </span></p>
<p class="p1"><span class="s2">23:34 – Guest: I love diving into Elixir and source code. I know exactly what I need. In some Ruby libraries they are so heavily dependent on...</span></p>
<p class="p5"><span class="s5">24:05 </span><span class="s3">– <a href="https://www.lootcrate.com"><span class="s4">Loot Crate!</span></a></span></p>
<p class="p4"><span class="s2">25:13 – Chuck. </span></p>
<p class="p4"><span class="s2">25:40 – Guest. </span></p>
<p class="p4"><span class="s2">25:50 – Panel: Being explicit and concise at the same time I don’t feel so bad.</span></p>
<p class="p4"><span class="s2">26:00- Chuck: ...I want to know that those are there. If it was – you have to go through all of this ceremony – that’s boilerplate that I feel doesn’t’ add a lot. </span></p>
<p class="p4"><span class="s2">26:36 – Panel: Getting out a functional language...being able to see a module and it has every sort of path that I can run is nice. </span></p>
<p class="p4"><span class="s2">27:00 – Guest.</span></p>
<p class="p4"><span class="s2">27:37 – Panel: I did that a bit for my Rail code. People didn’t like that it wasn’t “normal.”</span></p>
<p class="p4"><span class="s2">27:52 – Guest. </span></p>
<p class="p4"><span class="s2">28:09 – Panel: Coming into this project where one of the developers likes using MACROS. It’s been a challenge b/c MACROS still let’s you create magic. We talked with Sasha and he queued me to this document and it’s the library guidelines. In the anti-patterns it says: avoid macros. </span></p>
<p class="p4"><span class="s2">29:32 – Guest: ...but you should think twice before you dive into macros. </span></p>
<p class="p4"><span class="s2">29:50 – Panel: I used macros once to enforce...</span></p>
<p class="p4"><span class="s2">30:01 – Panel: What are your feelings on dialyzer – what do you think?</span></p>
<p class="p4"><span class="s2">30:15 – Guest: I think it’s the way of the future - I love it. </span></p>
<p class="p4"><span class="s2">30:58 – Panel: I am trying VS code and it does incremental dialyzer compilation. </span></p>
<p class="p4"><span class="s2">31:27 – Guest: Of course the problem with dialyzer are the error messages. It can be frustrating.</span></p>
<p class="p4"><span class="s2">31:40 – Panel.</span></p>
<p class="p4"><span class="s2">31:43 – Guest: ...eventually I would figure it out. I went dialyzer front to back on my current project. A month into the project I wasn’t writing new specs, and then I realized I hadn’t done it in awhile, and of course I have a 500 error on the server. Turns out I was...</span></p>
<p class="p4"><span class="s2">33:00 – Panel: Yes. I encourage people to...</span></p>
<p class="p4"><span class="s2">33:07 – Guest: The way it captures things is that...</span></p>
<p class="p4"><span class="s2">33:29 – Panel. </span></p>
<p class="p4"><span class="s2">33:42 – Panel: We talked about that on the previous episode. It’s an RC right now, but it’s been helpful. There is a explained option. It will give me an example, I didn’t know how to fix it but...</span></p>
<p class="p4"><span class="s2">34:14 – Guest: It can help you write simpler code. </span></p>
<p class="p4"><span class="s2">34:47 – Panel.</span></p>
<p class="p4"><span class="s2">34:52 – Guest: With an <a href="https://elm-lang.org"><span class="s4">Elm</span></a> background I think it helped me. </span></p>
<p class="p4"><span class="s2">35:13 – Panel.</span></p>
<p class="p4"><span class="s2">35:45 – Guest: My dream world would be...</span></p>
<p class="p4"><span class="s2">35:55 – Panel: Josh, how does it do it?</span></p>
<p class="p4"><span class="s2">36:03 – Panel: What is <a href="https://github.com/JakeBecker/elixir-ls"><span class="s4">Elixir LS</span></a>?</span></p>
<p class="p4"><span class="s2">36:09 – Panel answers the question. </span></p>
<p class="p4"><span class="s2">36:50 – Panel: I have used <a href="https://atom.io"><span class="s4">ATOM</span></a> as an editor...how do you like <a href="https://code.visualstudio.com"><span class="s4">visual studio code?</span></a></span></p>
<p class="p4"><span class="s2">37:01 – <i>Panel answers the question.</i></span></p>
<p class="p4"><span class="s2">37:38 – Panel: I have used <a href="https://flutter.io"><span class="s4">FLUTTER.</span></a></span></p>
<p class="p4"><span class="s2">37:44 – Chuck: I like it. </span></p>
<p class="p4"><span class="s2">38:20 – Chuck talks about Flutter and the advantages of it.</span></p>
<p class="p4"><span class="s2">38:34 – Guest: What editors do you like, Bill?</span></p>
<p class="p4"><span class="s2">38:36 – Guest answers the question.</span></p>
<p class="p4"><span class="s2">38:54 – Panel. </span></p>
<p class="p4"><span class="s2">39:00 – <i>Guest says that it is something worth trying.</i></span></p>
<p class="p4"><span class="s2">39:07 – Chuck: Try it you will like it – there is an ATOM plugin, too.</span></p>
<p class="p4"><span class="s2">39:36 – Panel: I hate the name visual studio code.</span></p>
<p class="p4"><span class="s2">39:43 – Panel. </span></p>
<p class="p4"><span class="s2">40:02 – Panel: I know you have some feelings of Graph QL?</span></p>
<p class="p4"><span class="s2">40:12 – Guest: It is love in every sense. One day in vacation...</span></p>
<p class="p4"><span class="s2">41:14 – Panel: I like it, too. </span></p>
<p class="p4"><span class="s2">42:01 – Guest: I haven’t much experience there. I played years ago with Graph QL and it looked encouraging and thought it was hard to build one of those things. To help debug as you are writing them is out of this world!</span></p>
<p class="p4"><span class="s2">42:30 – Panel: I can look at the schema in Graph QL, here are the mutations I have available.</span></p>
<p class="p4"><span class="s2">42:50 – Panel: The docs are right they can’t be wrong. </span></p>
<p class="p4"><span class="s2">43:03 – Guest. </span></p>
<p class="p4"><span class="s2">43:38 – Chuck: What are you working on now and what are you struggling with?</span></p>
<p class="p4"><span class="s2">43:48 – Guest: None of them are super, super hard but today I am trying to learn how to send...</span></p>
<p class="p4"><span class="s2">44:14 – Guest: There are a lot of new things for me like AWS, new technologies and a tight schedule. Trying to get new things done.</span></p>
<p class="p4"><span class="s2">44:33 – Chuck: What do I learn next – that is a question that I hear a lot.</span></p>
<p class="p4"><span class="s2">44:43 – Guest: Yeah, learning when I need them but the exception is Graph QL for me. Learn things as we go – nothing is too scary b/c there are proof of concepts out there. </span></p>
<p class="p4"><span class="s2">45:32 – Chuck: People will ask this when they are trying to work on a project. </span></p>
<p class="p4"><span class="s2">45:44 – Guest: I try to learn things on these side projects. I usually bail out before the really hard stuff. </span></p>
<p class="p4"><span class="s2">46:00 – Chuck: Picks!</span></p>
<p class="p5"><span class="s3">46:14 – <a href="https://www.freshbooks.com"><span class="s4">Fresh Books!</span></a></span></p>
<p class="p4"><span class="s1"><b>Links:</b></span></p>

<ul class="ul1">
 	<li class="li5"><span class="s6"><a href="https://www.ruby-lang.org/en/"><span class="s7">Ruby</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://elixir-lang.org"><span class="s7">Elixir</span></a></span></li>
 	<li class="li9"><span class="s8"><a href="https://elm-lang.org"><span class="s7">Elm</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://atom.io"><span class="s7">Atom.io</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://flutter.io"><span class="s7">Flutter.io</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://www.javascript.com"><span class="s7">JavaScript</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://code.visualstudio.com"><span class="s7">Visual Studio Code</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://reactjs.org"><span class="s7">React</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://www.erlang.org"><span class="s7">Erlang</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://joaquimadraz.com/guide-to-deploy-an-elixir-phoenix-app-to-aws-ecs"><span class="s7">Guide to Deploy a...</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://www.youtube.com/watch?v=G8_SCecwUJ8"><span class="s7">YouTube Video – Bill Peregoy</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://github.com/elixir-lang/gen_stage"><span class="s7">GenStage</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://dockyard.com/blog/2018/08/23/announcing-distillery-2-0"><span class="s7">DockYard Article</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://hexdocs.pm/elixir/library-guidelines.html#anti-patterns"><span class="s7">Library Guidelines</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://hexdocs.pm/elixir/library-guidelines.html#avoid-macros"><span class="s7">Avoid Macros</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://github.com/JakeBecker/vscode-elixir-ls"><span class="s7">VS CODE</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://github.com/JakeBecker/elixir-ls"><span class="s7">Elixir LS</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://github.com/VSCodium/vscodium"><span class="s7">VS CODIUM</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://graphql.org"><span class="s7">Graph QL</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://absinthe-graphql.org"><span class="s7">Absinthe</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://direnv.net"><span class="s7">DIRENV</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://hexdocs.pm/distillery/home.html"><span class="s7">HEX DOCS</span></a></span></li>
 	<li class="li5"><span class="s6"><a href="https://github.com/billperegoy"><span class="s7">Bill’s GitHub</span></a></span></li>
</ul>
<p class="p4"><span class="s1"><b>Sponsors:</b></span></p>

<ul class="ul1">
 	<li class="li5"><span class="s9"><a href="https://www.lootcrate.com"><span class="s10">Loot Crate</span></a></span></li>
 	<li class="li10"><span class="s11"><a href="https://devchat.tv/get-a-coder-job/"><span class="s12">Get a Coder Job!</span></a></span></li>
 	<li class="li10"><span class="s13"><a href="https://www.freshbooks.com"><span class="s12">Fresh Books</span></a></span></li>
 	<li class="li10"><span class="s13"><a href="https://www.cachefly.com"><span class="s12">Cache Fly</span></a></span></li>
</ul>
<p class="p12"><span class="s1"><b>Picks:</b></span></p>
<p class="p13"><span class="s2">Mark</span></p>

<ul class="ul1">
 	<li class="li13"><span class="s14"><a href="https://direnv.net/"><span class="s15">Direnv</span></a></span></li>
</ul>
<p class="p13"><span class="s2">Josh</span></p>

<ul class="ul1">
 	<li class="li13"><span class="s14"><a href="https://flutter.io/"><span class="s15">Flutter</span></a></span></li>
</ul>
<p class="p13"><span class="s2">Bill</span></p>

<ul class="ul1">
 	<li class="li13"><span class="s14"><a href="https://dockyard.com/blog/2018/08/23/announcing-distillery-2-0"><span class="s15">Distillery Doc </span></a></span></li>
</ul>
<p class="p13"><span class="s2">Charles </span></p>

<ul class="ul1">
 	<li class="li13"><span class="s14"><a href="https://www.amazon.com/Extreme-Ownership-U-S-Navy-SEALs-ebook/dp/B00VE4Y0Z2"><span class="s15">Extreme Ownership </span></a></span></li>
</ul>

<h3>Transcript</h3>


